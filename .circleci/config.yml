jobs:
  install_authenticate:
    executor: sfdx/default
    steps:
      - checkout
      - sfdx/install
            
      - run:
          name: Login to Dev Hub
          command:
            sfdx force:auth:jwt:grant -i 3MVG95mg0lk4batip0hdGYehGiM2oP3mvy9FrQ747qBq4CwiG6s6e74oLi5sgtxLgeHM8e9JQQ7bM_edRG6Gd -d -a DevHub-HTS -f ./.circleci/server.key -u dev001@ses.sample.dev
      - run:
          name: List Connected Orgs
          command: sfdx force:org:list

orbs:
  sfdx: circleci/salesforce-sfdx@2.2.0
version: 2.1
workflows:
  basic-test:
    jobs:
      - install_authenticate